<mat-toolbar color="primary" class="app-toolbar">
  <span class="app-title">Event Management Portal</span>

  <div class="nav-links" *ngIf="isLoggedIn">
    <!-- Events - CO, SCO can request; CO, SCO, FM, AM can view list -->
    <button mat-button routerLink="/form" *ngIf="canAccessEventRequest()">Event Request</button>
    <button mat-button routerLink="/events" *ngIf="canAccessEventList()">Events</button>
    
    <!-- Recruitment - HR can access list, PM/SM can view -->
    <button mat-button routerLink="/recruitment" *ngIf="canAccessRecruitment()">Recruitment Request</button>
    <button mat-button routerLink="/recruitment-list" *ngIf="canAccessRecruitmentList()">Recruitment List</button>
    
    <!-- Financial - FM can access list, PM/SM can view -->
    <button mat-button routerLink="/financial-request" *ngIf="canAccessFinancial()">Financial Request</button>
    <button mat-button routerLink="/financial-list" *ngIf="canAccessFinancialList()">Financial List</button>
    
    <!-- Tasks - PM, SM -->
    <button mat-button routerLink="/create-task" *ngIf="canAccessTasks()">Create Task</button>
  </div>

  <span class="spacer"></span>

  <div class="user-controls" *ngIf="isLoggedIn">
    <div class="role-container">
      <mat-select
        [(value)]="selectedRole"
        (selectionChange)="onRoleChange($event.value)"
        class="role-select"
      >
        <mat-option *ngFor="let role of roles" [value]="role.value">
          {{ role.label }}
        </mat-option>
      </mat-select>
    </div>
    
    <button mat-button (click)="logout()" class="logout-button">
      Logout
    </button>
  </div>
</mat-toolbar>

<!-- Main page content area -->
<div class="content-container" *ngIf="isLoggedIn">
  <router-outlet></router-outlet>
</div>

<!-- Login prompt if not logged in -->
<div class="login-prompt" *ngIf="!isLoggedIn">
  <div class="login-message">
    <h2>Please log in to access the Event Management Portal</h2>
    <button mat-raised-button color="primary" routerLink="/login">Go to Login</button>
  </div>
</div>
